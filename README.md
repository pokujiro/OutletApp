# OutletApp」
# スマートコンセントモニター

家庭のスマートコンセントの電力使用量をリアルタイムで監視し、過去の使用量をグラフで可視化するためのWebアプリケーションです。

![アプリのスクリーンショット](path/to/your/screenshot.png)
*上記スクリーンショットへのパスは、ご自身の画像に合わせて修正してください。*

---

## どのようなアプリなのか (コンセプト)

このアプリケーションは、IoTデバイスであるスマートコンセントと連携し、日々の電力使用量を節約・管理意識の向上を目的としています。

Pythonスクリプトが定期的にスマートコンセントの状態（電力、電圧、電流など）を取得し、ログファイルに記録します。Webインターフェースは、そのデータを読み込んでユーザーに分かりやすく表示する役割を担います。

### 主な機能
- **リアルタイム電力表示:** 現在の電力使用量を表示します。
- **期間別のグラフ表示:** 1日、1週間、1ヶ月単位で電力使用量の推移をグラフで確認できます。
- **月間目標設定:** 月々の電力使用量の目標を設定し、その達成度を進捗バーで視覚的に把握できます。
- **デバイス管理:** 複数のコンセントやデバイスを登録し、それぞれ個別に管理する機能。

## どの技術が使われているか (使用技術)

このプロジェクトは、データの収集を行うバックエンド部分と、表示を行うフロントエンド部分で構成されています。

-   **バックエンド:**
    -   `Python`
    -   `tinytuya`: スマートデバイス（Tuya製）を操作するためのライブラリ
-   **フロントエンド:**
    -   `HTML`
    -   `CSS`
    -   `JavaScript`
-   **ライブラリ:**
    -   `Chart.js`: グラフ描画ライブラリ

## どのようにして使うのか (セットアップと実行方法)

このアプリケーションをローカル環境で実行するための手順です。

### 1. 前提条件
- Git
- Python (v3.8以上推奨)

### 2. セットアップ

まず、リポジトリをクローンし、必要な設定ファイルを作成・配置します。

**① リポジトリをクローン**
```bash
git clone [あなたのリポジトリのURL]
cd [クローンしたリポジトリ名」
```

**② 秘密情報用の設定ファイルを作成**
`dev_id` や `local_key` といった、Gitに公開してはいけない秘密情報を `config.json` ファイルに記述します。プロジェクトのルートに `config.json` を作成し、以下の内容をあなたの情報で書き換えてください。

```json
{
    "tinytuya_device": {
        "dev_id": "YOUR_DEVICE_ID",
        "address": "Auto",
        "local_key": "YOUR_LOCAL_KEY",
        "version": 3.3
    }
}
【重要】 この `config.json` ファイルは、必ず `.gitignore` に追加して、Gitで追跡されないようにしてください。
**③ Pythonライブラリのインストール**
```bash
pip install tinytuya
```
### 3. 実行

このアプリケーションは「データ記録プログラム」と「Web表示サーバー」の2つを起動する必要があります。2つのターミナルを使って、それぞれを起動してください。

**ターミナル1：データ記録スクリプトの起動**
このターミナルは、スマートコンセントの情報を記録し続けるために使用します。
```bash
# プロジェクトのフォルダにいることを確認
python smart.py
```
実行すると、定期的にデバイスの状態がターミナルに表示され、ログファイルに書き込まれます。このターミナルは起動したままにしておいてください。

**ターミナル2：Web表示サーバーの起動**
このターミナルは、HTMLやCSS、JSファイルをブラウザに提供するために使用します。
```bash
# プロジェクトのフォルダにいることを確認
python -m http.server
```
`Serving HTTP on 0.0.0.0 port 8000 ... `のように表示されたら成功です。

### 4. アプリケーションの表示
全てのサーバーが起動したら、Webブラウザで `http://localhost:8000/index.html` （またはメインのHTMLファイル名）にアクセスしてください。スマートコンセントモニターが表示されます。
